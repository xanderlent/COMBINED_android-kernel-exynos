/*
 * Device tree config for BCM47765 GNSS chip
 */
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/pinctrl/samsung.h>

/**********/
/*  GNSS  */
/**********/

&spi_1 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";
	pinctrl-names = "default";
	pinctrl-0 = <&spi1_bus &spi1_cs_func>;

	bcm4775@0 {
		compatible = "ssp,bcm4775";
		reg = <0>;
		spi-max-frequency = <26000000>;
		spi-cpol;
		spi-cpha;

		pinctrl-names = "default";
		pinctrl-0 = <&ssp_host_req &ssp_mcu_req &ssp_mcu_resp &gps_nstandby>;

		ssp-host-req = <&gpm25 0 GPIO_ACTIVE_LOW>;	/* GPS_SOC_INT_L */
		ssp-mcu-req = <&gpg2 1 GPIO_ACTIVE_HIGH>;	/* SOC_GPS_INT_H */
		ssp-mcu-resp = <&gpm19 0 GPIO_ACTIVE_HIGH>;	/* SOC_GPS_RDY */

		gps-nstandby= <&gpm18 0 GPIO_ACTIVE_LOW>;	/* SOC_GPS_RST_L */

		controller-data {
			samsung,spi-feedback-delay = <1>;
			samsung,spi-chip-select-mode = <0>;
		};
	};
};

&pinctrl_1 {
	ssp_host_req: ssp-host-req {
		samsung,pins ="gpm25-0";
		samsung,pin-function = <EXYNOS_PIN_FUNC_F>;
		samsung,pin-pud = <EXYNOS_PIN_PULL_NONE>;
		samsung,pin-con-pdn = <EXYNOS_PIN_PDN_PREV>;
		samsung,pin-pud-pdn = <EXYNOS_PIN_PULL_NONE>;
	};
};

&pinctrl_2 {
	ssp_mcu_resp: ssp-mcu-resp {
		samsung,pins = "gpm19-0";
		samsung,pin-function = <EXYNOS_PIN_FUNC_INPUT>;
		samsung,pin-pud = <EXYNOS_PIN_PULL_NONE>;
	};
	gps_nstandby: gps-nstandby {
		samsung,pins ="gpm18-0";
		samsung,pin-function = <EXYNOS_PIN_FUNC_OUTPUT>;
		samsung,pin-pud = <EXYNOS_PIN_PULL_NONE>;
		samsung,pin-con-pdn = <EXYNOS_PIN_PDN_PREV>;
	};
};

&pinctrl_5 {
	ssp_mcu_req: ssp-mcu-req {
		samsung,pins = "gpg2-1";
		samsung,pin-function = <EXYNOS_PIN_FUNC_OUTPUT>;
		samsung,pin-pud = <EXYNOS_PIN_PULL_NONE>;
		samsung,pin-con-pdn = <EXYNOS_PIN_PDN_PREV>;
	};
};
